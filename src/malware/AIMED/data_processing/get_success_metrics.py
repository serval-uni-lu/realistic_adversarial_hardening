import pandas as pd
from helpers import join_dfs, get_success_metrics
import json
import os
import sys
# append the path of the parent directory
sys.path.append("..")

if __name__== "__main__":

    config_file = "config/random_forest/clean_val.json"  
    file = open(config_file)
    config = json.load(file)
    
    
    owd = os.getcwd()
    join_dfs(config['info_dir'], 'info.csv')
    os.chdir(owd)
    join_dfs(config['features_dir'], 'features.csv')
    os.chdir(owd)

    info_path = config['info_dir'] + '/info.csv'
    info_df = pd.read_csv(info_path)
    get_success_metrics(info_df)
